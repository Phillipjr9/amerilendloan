import { Button } from "@/components/ui/button";
import {
  ArrowLeft,
  BookOpen,
  TrendingUp,
  PiggyBank,
  CreditCard,
  Shield,
  Lightbulb,
  Clock,
  Share2,
  Printer,
  ChevronRight,
} from "lucide-react";
import { Link, useParams, useLocation } from "wouter";

interface ArticleData {
  slug: string;
  icon: React.ElementType;
  category: string;
  title: string;
  excerpt: string;
  readTime: string;
  author: string;
  publishDate: string;
  content: string[];
  keyTakeaways: string[];
  relatedSlugs: string[];
}

export const articles: ArticleData[] = [
  {
    slug: "build-emergency-fund",
    icon: PiggyBank,
    category: "Saving",
    title: "5 Simple Ways to Build an Emergency Fund",
    excerpt:
      "Life happens. Here's how to start saving for the unexpected, even if you're living paycheck to paycheck.",
    readTime: "4 min read",
    author: "AmeriLend Financial Team",
    publishDate: "January 15, 2026",
    content: [
      "An emergency fund is your financial safety net — the money that stands between you and a financial crisis when life throws a curveball. Whether it's an unexpected car repair, a medical bill, or a sudden job loss, having money set aside can mean the difference between a minor inconvenience and a major financial setback.",
      "## Why You Need an Emergency Fund",
      "According to the Federal Reserve, nearly 40% of Americans can't cover an unexpected $400 expense without borrowing money or selling something. That's a staggering number, and it highlights just how vulnerable many households are to financial shocks. An emergency fund changes that equation entirely.",
      "## 1. Start Small — Even $25 a Week Adds Up",
      "The biggest mistake people make is thinking they need to save thousands of dollars right away. Start with what you can afford. Even $25 per week adds up to $1,300 in a year. The key is consistency, not the amount. Set up an automatic transfer from your checking account to a dedicated savings account every payday.",
      "## 2. Use the 'Pay Yourself First' Method",
      "Before you pay bills, buy groceries, or spend on entertainment, move money into savings. Treat your emergency fund contribution like a non-negotiable bill. When saving is the first thing you do with your paycheck, you're less likely to spend that money elsewhere.",
      "## 3. Cut One Unnecessary Expense",
      "Look at your monthly subscriptions and recurring charges. Cancel one streaming service, eat out one fewer time per week, or brew coffee at home instead of buying it. Redirect that money — often $30–$100 per month — directly into your emergency fund.",
      "## 4. Sell Items You No Longer Need",
      "Go through your closets, garage, and storage areas. Old electronics, clothes you haven't worn in a year, furniture you're not using — these can all be turned into cash through online marketplaces like Facebook Marketplace, eBay, or Poshmark. Even a one-time boost of $200–$500 can jumpstart your fund.",
      "## 5. Use Windfalls Wisely",
      "Tax refunds, birthday money, work bonuses, cashback rewards — any unexpected income is a perfect opportunity to bulk up your emergency fund. Instead of spending it on wants, put at least 50% toward your safety net.",
      "## How Much Should You Save?",
      "Financial experts generally recommend having 3 to 6 months' worth of essential expenses saved. For most people, that's between $3,000 and $10,000. But don't let that number intimidate you — even $500 can cover many common emergencies. Start where you are and build from there.",
      "## Where to Keep Your Emergency Fund",
      "Keep your emergency fund in a high-yield savings account. It should be accessible enough to use in a real emergency but separate from your everyday checking account so you're not tempted to dip into it. Many online banks offer savings accounts with APYs of 4% or higher — your money grows while it sits there.",
    ],
    keyTakeaways: [
      "Start with as little as $25/week — consistency beats amount",
      "Automate your savings so you don't have to think about it",
      "Aim for 3–6 months of essential expenses",
      "Keep funds in a high-yield savings account, separate from checking",
      "Use windfalls and declutter sales to accelerate your progress",
    ],
    relatedSlugs: ["50-30-20-budget", "pay-off-debt-faster"],
  },
  {
    slug: "credit-score-guide",
    icon: CreditCard,
    category: "Credit",
    title: "Understanding Your Credit Score: A Beginner's Guide",
    excerpt:
      "Your credit score affects more than you think. Learn what goes into it and how to improve yours over time.",
    readTime: "6 min read",
    author: "AmeriLend Financial Team",
    publishDate: "January 22, 2026",
    content: [
      "Your credit score is a three-digit number that lenders, landlords, insurance companies, and even some employers use to assess your financial reliability. It can affect the interest rates you're offered, whether you're approved for a loan or apartment, and even your insurance premiums.",
      "## What Is a Credit Score?",
      "A credit score is a numerical representation of your creditworthiness, typically ranging from 300 to 850. The most commonly used scoring model is the FICO Score, developed by the Fair Isaac Corporation. A higher score means you're seen as less risky to lenders.",
      "## Credit Score Ranges",
      "**Excellent (750–850):** You'll qualify for the best rates and terms available. **Good (700–749):** You'll get competitive rates on most loan products. **Fair (650–699):** You may be approved but with higher interest rates. **Poor (550–649):** Limited options; expect high rates or requirements for a cosigner. **Very Poor (300–549):** Approval is difficult; focus on rebuilding.",
      "## The 5 Factors That Determine Your Score",
      "**Payment History (35%):** This is the most important factor. Paying bills on time, every time, is the single best thing you can do for your score. Even one 30-day late payment can drop your score by 50–100 points.",
      "**Credit Utilization (30%):** This is the percentage of available credit you're using. If you have a $10,000 credit limit and a $3,000 balance, your utilization is 30%. Keep it below 30%, and ideally below 10%, for the best impact.",
      "**Length of Credit History (15%):** The longer your accounts have been open, the better. This is why it's generally not a good idea to close old credit cards, even if you don't use them often.",
      "**Credit Mix (10%):** Having a variety of credit types — credit cards, installment loans, a mortgage — can help your score. But don't open new accounts just for the sake of diversifying.",
      "**New Credit Inquiries (10%):** Each time you apply for credit, a \"hard inquiry\" appears on your report. Too many in a short period can signal risk. However, rate shopping for mortgages or auto loans within a 14–45 day window counts as a single inquiry.",
      "## How to Improve Your Credit Score",
      "1. **Pay every bill on time** — set up autopay or reminders. 2. **Pay down existing balances** — focus on high-utilization cards first. 3. **Don't close old accounts** — they help your average account age. 4. **Limit new applications** — only apply for credit you truly need. 5. **Check your credit report** — dispute any errors at AnnualCreditReport.com.",
      "## How Long Does It Take to Improve?",
      "Most positive changes take 1–3 months to fully reflect in your score. Negative marks like late payments stay on your report for 7 years, while bankruptcies remain for 7–10 years. The good news: their impact diminishes over time, especially as you build new positive history.",
    ],
    keyTakeaways: [
      "Payment history is 35% of your score — always pay on time",
      "Keep credit utilization below 30% of your available credit",
      "Don't close old credit cards — they help your credit age",
      "Check your free credit report annually for errors",
      "Score improvements typically appear within 1–3 months",
    ],
    relatedSlugs: ["build-emergency-fund", "personal-loan-guide"],
  },
  {
    slug: "50-30-20-budget",
    icon: TrendingUp,
    category: "Budgeting",
    title: "The 50/30/20 Rule: A Simple Budget That Works",
    excerpt:
      "Stop guessing where your money goes. This proven budgeting method makes it easy to manage your finances.",
    readTime: "5 min read",
    author: "AmeriLend Financial Team",
    publishDate: "February 1, 2026",
    content: [
      "If you've ever felt overwhelmed by budgeting, the 50/30/20 rule is your new best friend. Popularized by Senator Elizabeth Warren in her book 'All Your Worth,' this simple framework divides your after-tax income into three categories, making it easy to manage your money without tracking every penny.",
      "## How the 50/30/20 Rule Works",
      "**50% — Needs:** Half your income goes to essentials — things you must pay for to live and work. This includes rent or mortgage, utilities, groceries, insurance, minimum debt payments, and transportation costs.",
      "**30% — Wants:** This is your fun money. Dining out, entertainment, shopping, hobbies, subscriptions, and vacations all fall here. These are things that improve your quality of life but aren't strictly necessary.",
      "**20% — Savings & Debt Repayment:** The remaining 20% goes toward building your financial future. This includes emergency fund contributions, retirement savings, extra debt payments beyond the minimums, and other savings goals.",
      "## A Real-World Example",
      "Let's say your monthly take-home pay is $4,000. **Needs (50% = $2,000):** Rent $1,200, Utilities $150, Groceries $300, Car payment $200, Insurance $150. **Wants (30% = $1,200):** Dining out $200, Entertainment $100, Shopping $200, Gym $50, Subscriptions $50, Fun money $600. **Savings (20% = $800):** Emergency fund $300, Retirement (401k/IRA) $300, Extra loan payment $200.",
      "## What If Your Needs Exceed 50%?",
      "In high-cost-of-living areas, your needs might consume more than 50% of your income. That's common and okay. Here's how to adapt: Look for ways to reduce fixed costs (refinance loans, negotiate bills, consider a roommate). Temporarily borrow from the wants category. Focus on increasing your income through side hustles or career advancement.",
      "## Tips for Making It Work",
      "**Automate everything:** Set up automatic transfers for savings and bill payments so the budget runs itself. **Use a simple tracking app:** Mint, YNAB, or even a spreadsheet can help you categorize spending. **Review monthly:** Spend 15 minutes at the end of each month checking your ratios. Adjust as needed. **Be flexible:** Some months will be different. The 50/30/20 rule is a guideline, not a prison.",
      "## Why This Budget Works",
      "The beauty of the 50/30/20 rule is its simplicity. You don't need to track every coffee or categorize every transaction. Just make sure your big-picture ratios are roughly right, and the details take care of themselves. It's sustainable because it doesn't deprive you — that 30% for wants ensures you still enjoy life while building financial stability.",
      "## Getting Started Today",
      "1. Calculate your monthly after-tax income. 2. List all your needs and their costs. 3. Compare your needs spending to the 50% target. 4. Set up automatic savings for 20%. 5. Enjoy the remaining 30% guilt-free, knowing your finances are handled.",
    ],
    keyTakeaways: [
      "50% of income for needs, 30% for wants, 20% for savings",
      "Automate savings and bills so your budget runs itself",
      "Review your spending ratios monthly — 15 minutes is enough",
      "Adapt the percentages if your needs exceed 50%",
      "This budget works because it doesn't deprive you of enjoyment",
    ],
    relatedSlugs: ["build-emergency-fund", "pay-off-debt-faster"],
  },
  {
    slug: "avoid-loan-scams",
    icon: Shield,
    category: "Protection",
    title: "How to Spot and Avoid Loan Scams",
    excerpt:
      "Predatory lenders are everywhere. Here's what to watch for and how to protect yourself when borrowing.",
    readTime: "4 min read",
    author: "AmeriLend Financial Team",
    publishDate: "February 5, 2026",
    content: [
      "Every year, thousands of Americans fall victim to loan scams that cost them money, personal information, and peace of mind. Predatory lenders and outright fraudsters target people who are desperate for funds, using sophisticated tactics to appear legitimate.",
      "## Red Flags of a Loan Scam",
      "**Guaranteed approval regardless of credit:** No legitimate lender can guarantee approval without checking your credit. If someone says you're \"pre-approved\" without any verification, it's a scam.",
      "**Upfront fees before you receive money:** Legitimate lenders deduct fees from loan proceeds or add them to your balance. They don't ask you to wire money, send gift cards, or pay \"processing fees\" before funding.",
      "**Pressure to act immediately:** Scammers create artificial urgency — \"This offer expires in 24 hours!\" Real lenders give you time to review terms, compare options, and ask questions.",
      "**No physical address or phone number:** If you can't find a real address, a working phone number, or any online presence beyond their website, proceed with extreme caution.",
      "**Unsolicited offers via phone, text, or social media:** Be especially wary of loan offers you didn't seek out. Legitimate lenders rarely cold-call potential borrowers.",
      "## How to Protect Yourself",
      "**Verify the lender's credentials:** Check if they're registered in your state. The NMLS Consumer Access database (nmlsconsumeraccess.org) lets you look up licensed lenders. Also check the Better Business Bureau for complaints.",
      "**Read the full loan agreement:** Every legitimate lender must provide a Truth in Lending Disclosure that shows your APR, total cost, and repayment terms. If they won't give you this in writing before you sign, walk away.",
      "**Never pay upfront fees:** Legitimate origination fees are deducted from loan proceeds — never required as advance payments. If someone asks you to send money before receiving your loan, it's a scam.",
      "**Research before you borrow:** Read online reviews, check the company's social media presence, and look for complaints. A few minutes of research can save you thousands.",
      "**Trust your instincts:** If something feels off, it probably is. Legitimate lenders don't use high-pressure tactics, ask for unusual payment methods, or operate from untraceable contact information.",
      "## What to Do If You've Been Scammed",
      "1. **Stop all communication** with the scammer immediately. 2. **Contact your bank** to freeze accounts and dispute unauthorized charges. 3. **File a complaint** with the FTC (reportfraud.ftc.gov) and your state Attorney General. 4. **Report to the CFPB** (consumerfinance.gov/complaint). 5. **Place a fraud alert** on your credit reports through any one of the three bureaus.",
    ],
    keyTakeaways: [
      "No legitimate lender guarantees approval without a credit check",
      "Never pay upfront fees before receiving loan funds",
      "Verify lender credentials at nmlsconsumeraccess.org",
      "Read the full Truth in Lending Disclosure before signing",
      "Report scams to the FTC, CFPB, and your state Attorney General",
    ],
    relatedSlugs: ["credit-score-guide", "personal-loan-guide"],
  },
  {
    slug: "personal-loan-guide",
    icon: Lightbulb,
    category: "Personal Loans",
    title: "When Does a Personal Loan Make Sense?",
    excerpt:
      "Personal loans aren't for everyone. Learn when borrowing is a smart financial move and when to hold off.",
    readTime: "5 min read",
    author: "AmeriLend Financial Team",
    publishDate: "February 10, 2026",
    content: [
      "A personal loan can be a powerful financial tool — or it can dig you deeper into debt. The difference depends entirely on why you're borrowing, how much, and whether you can comfortably repay. Here's a clear-eyed look at when personal loans make sense and when you should explore other options.",
      "## When a Personal Loan IS a Good Idea",
      "**Debt consolidation:** If you're juggling multiple high-interest credit cards or loans, consolidating them into one personal loan with a lower rate can save you money and simplify your payments. For example, replacing three credit cards at 22% APR with a personal loan at 10% APR could save you thousands in interest.",
      "**Major necessary expenses:** Medical bills, essential home repairs, or emergency car fixes are legitimate reasons to borrow. These are expenses you can't avoid, and a personal loan typically offers better rates than a credit card.",
      "**Building credit:** A small personal loan that you repay on time adds positive payment history and credit mix to your profile. This can be a strategic move if you're working to improve your credit score.",
      "**Planned major purchases:** If you have a clear plan and the loan fits comfortably within your budget, borrowing for things like a wedding, relocation for a better job, or education expenses can make sense.",
      "## When You Should NOT Get a Personal Loan",
      "**To fund a lifestyle you can't afford:** If you need a loan for everyday expenses, vacations, or luxury items, the real issue is a budget gap — not a lack of credit. Address the root cause first.",
      "**When you can't make the payments:** If the monthly payment would strain your budget, adding debt will make things worse, not better. Use a loan calculator to verify affordability before applying.",
      "**To pay off debt you'll just run up again:** Consolidation only works if you stop using the credit cards you paid off. Otherwise, you end up with both the loan AND new credit card debt.",
      "**When better options exist:** Before borrowing, check if you qualify for 0% APR credit card offers, employer advances, community assistance programs, or family loans.",
      "## What to Look for in a Personal Loan",
      "**Fixed interest rate:** Your payment stays the same every month. **No prepayment penalties:** You should be able to pay off the loan early without extra fees. **Reasonable origination fee:** Typically 1–8% of the loan amount. **Clear repayment terms:** Know exactly when your loan starts and ends.",
      "## How to Get the Best Rate",
      "1. **Check your credit score** before applying — know where you stand. 2. **Compare offers** from at least 3–5 lenders. 3. **Use prequalification tools** that do a soft pull (no impact on credit). 4. **Consider a cosigner** if your credit needs work. 5. **Choose the shortest term you can afford** — shorter terms mean less total interest.",
    ],
    keyTakeaways: [
      "Personal loans are great for debt consolidation and necessary expenses",
      "Don't borrow to fund a lifestyle you can't sustain",
      "Look for fixed rates, no prepayment penalties, and clear terms",
      "Compare at least 3–5 lender offers before choosing",
      "Only consolidate debt if you commit to not running up new balances",
    ],
    relatedSlugs: ["avoid-loan-scams", "credit-score-guide"],
  },
  {
    slug: "pay-off-debt-faster",
    icon: BookOpen,
    category: "Debt Management",
    title: "How to Pay Off Debt Faster: Strategies That Work",
    excerpt:
      "From the snowball method to balance transfers — practical strategies to become debt-free sooner.",
    readTime: "7 min read",
    author: "AmeriLend Financial Team",
    publishDate: "February 14, 2026",
    content: [
      "Debt can feel overwhelming, but with the right strategy, you can pay it off faster than you think. The key is choosing an approach that works for your personality and financial situation, then sticking with it consistently.",
      "## Strategy 1: The Debt Snowball Method",
      "**How it works:** List all debts from smallest to largest balance (ignore interest rates). Make minimum payments on everything except the smallest debt. Throw every extra dollar at the smallest balance. When it's paid off, roll that payment into the next smallest debt.",
      "**Why it works:** The psychological wins of eliminating debts quickly keep you motivated. Dave Ramsey popularized this method, and research from Harvard Business Review confirms that quick wins increase persistence.",
      "**Best for:** People who need motivation and momentum to stay on track.",
      "## Strategy 2: The Debt Avalanche Method",
      "**How it works:** List all debts from highest to lowest interest rate. Make minimum payments on everything except the highest-rate debt. Put all extra money toward the highest-rate balance. When it's paid off, move to the next highest rate.",
      "**Why it works:** Mathematically, this saves you the most money in interest over time. You're attacking the most expensive debt first.",
      "**Best for:** People who are motivated by numbers and want to minimize total interest paid.",
      "## Strategy 3: Balance Transfer",
      "**How it works:** Transfer high-interest credit card balances to a new card with a 0% introductory APR (typically 12–21 months). Pay off the balance before the intro period expires.",
      "**Why it works:** You eliminate interest entirely during the promotional period, so every dollar goes toward the principal. **Watch out for:** Balance transfer fees (usually 3–5%), the regular APR that kicks in after the promo period, and the temptation to use the old cards.",
      "## Strategy 4: Debt Consolidation Loan",
      "**How it works:** Take out a single personal loan at a lower rate than your current debts. Use it to pay off multiple balances, leaving you with one monthly payment.",
      "**Why it works:** Simplifies multiple payments into one, often at a lower interest rate. You have a fixed payoff date and predictable monthly payments. **AmeriLend offers personal loans specifically designed for debt consolidation** with competitive fixed rates.",
      "## Bonus Tips to Accelerate Debt Payoff",
      "**Round up your payments:** If your minimum is $237, pay $250 or $300. Those extra dollars compound over time. **Make biweekly payments:** Instead of 12 monthly payments, make 26 half-payments per year — that's one extra full payment annually. **Use every raise wisely:** When you get a raise, direct at least half the increase toward debt before lifestyle inflation kicks in. **Negotiate your rates:** Call your credit card companies and ask for a lower rate. The worst they can say is no — and many will say yes if you've been a good customer.",
      "## Creating Your Debt Payoff Plan",
      "1. List all debts with balances, interest rates, and minimum payments. 2. Choose your strategy (snowball or avalanche). 3. Calculate your total monthly debt payment budget. 4. Automate all minimum payments. 5. Direct extra funds to your focus debt. 6. Track your progress monthly — watching balances drop is incredibly motivating.",
    ],
    keyTakeaways: [
      "Debt Snowball: pay smallest balance first for psychological wins",
      "Debt Avalanche: pay highest interest first to save the most money",
      "Balance transfers can eliminate interest during the promo period",
      "Consolidation loans simplify multiple debts into one payment",
      "Make biweekly payments for one extra payment per year automatically",
    ],
    relatedSlugs: ["50-30-20-budget", "build-emergency-fund"],
  },
];

export function getArticleBySlug(slug: string): ArticleData | undefined {
  return articles.find((a) => a.slug === slug);
}

export default function ArticlePage() {
  const { slug } = useParams<{ slug: string }>();
  const [, navigate] = useLocation();
  const article = getArticleBySlug(slug || "");

  if (!article) {
    return (
      <div className="min-h-screen bg-white flex items-center justify-center">
        <div className="text-center">
          <h1 className="text-4xl font-bold text-[#0A2540] mb-4">Article Not Found</h1>
          <p className="text-gray-500 mb-6">The article you're looking for doesn't exist.</p>
          <Link href="/resources">
            <Button className="bg-[#0A2540] hover:bg-[#0A2540]/90 text-white">
              <ArrowLeft className="w-4 h-4 mr-2" /> Back to Resources
            </Button>
          </Link>
        </div>
      </div>
    );
  }

  const relatedArticles = article.relatedSlugs
    .map((s) => getArticleBySlug(s))
    .filter(Boolean) as ArticleData[];

  const Icon = article.icon;

  document.title = `${article.title} | AmeriLend Resources`;

  return (
    <div className="min-h-screen bg-white text-gray-800">
      {/* Header */}
      <header className="sticky top-0 z-50 bg-white border-b border-gray-100 shadow-sm">
        <div className="container mx-auto px-4 h-16 flex items-center justify-between">
          <Link href="/" className="flex items-center gap-2">
            <img src="/images/logo-new.jpg" alt="AmeriLend" className="h-9 w-auto rounded" />
            <span className="text-xl font-bold text-[#0A2540] hidden sm:inline">AmeriLend</span>
          </Link>
          <nav className="hidden md:flex items-center gap-8 text-sm font-medium text-gray-600">
            <Link href="/" className="hover:text-[#0A2540] transition-colors">Home</Link>
            <Link href="/resources" className="text-[#0A2540] font-bold">Resources</Link>
            <Link href="/rates" className="hover:text-[#0A2540] transition-colors">Rates</Link>
            <Link href="/contact" className="hover:text-[#0A2540] transition-colors">Contact</Link>
            <Link href="/check-offers">
              <Button size="sm" className="bg-[#C9A227] hover:bg-[#b8922a] text-white rounded-full px-6">
                See My Loan Offers
              </Button>
            </Link>
          </nav>
        </div>
      </header>

      {/* Breadcrumb */}
      <div className="bg-gray-50 border-b border-gray-100">
        <div className="container mx-auto px-4 py-3">
          <div className="flex items-center gap-2 text-sm text-gray-500">
            <Link href="/" className="hover:text-[#0A2540]">Home</Link>
            <ChevronRight className="w-3 h-3" />
            <Link href="/resources" className="hover:text-[#0A2540]">Resources</Link>
            <ChevronRight className="w-3 h-3" />
            <span className="text-[#0A2540] font-medium truncate">{article.title}</span>
          </div>
        </div>
      </div>

      {/* Article Header */}
      <section className="bg-[#0A2540] text-white py-12 md:py-16">
        <div className="container mx-auto px-4 max-w-3xl">
          <div className="flex items-center gap-3 mb-4">
            <div className="w-10 h-10 bg-[#C9A227]/20 rounded-xl flex items-center justify-center">
              <Icon className="w-5 h-5 text-[#C9A227]" />
            </div>
            <span className="text-sm font-bold text-[#C9A227] uppercase tracking-wider">
              {article.category}
            </span>
          </div>
          <h1 className="text-3xl md:text-4xl lg:text-5xl font-extrabold leading-tight mb-4">
            {article.title}
          </h1>
          <p className="text-lg text-gray-300 mb-6">{article.excerpt}</p>
          <div className="flex items-center gap-6 text-sm text-gray-400">
            <span>By {article.author}</span>
            <span>{article.publishDate}</span>
            <span className="flex items-center gap-1">
              <Clock className="w-4 h-4" /> {article.readTime}
            </span>
          </div>
        </div>
      </section>

      {/* Article Content */}
      <section className="py-12 md:py-16">
        <div className="container mx-auto px-4 max-w-3xl">
          <div className="prose prose-lg max-w-none">
            {article.content.map((paragraph, i) => {
              if (paragraph.startsWith("## ")) {
                return (
                  <h2
                    key={i}
                    className="text-2xl font-bold text-[#0A2540] mt-10 mb-4"
                  >
                    {paragraph.replace("## ", "")}
                  </h2>
                );
              }
              // Handle bold text within paragraphs
              const parts = paragraph.split(/(\*\*.*?\*\*)/g);
              return (
                <p key={i} className="text-gray-600 leading-relaxed mb-4">
                  {parts.map((part, j) => {
                    if (part.startsWith("**") && part.endsWith("**")) {
                      return (
                        <strong key={j} className="text-gray-800 font-semibold">
                          {part.slice(2, -2)}
                        </strong>
                      );
                    }
                    return <span key={j}>{part}</span>;
                  })}
                </p>
              );
            })}
          </div>

          {/* Key Takeaways */}
          <div className="mt-12 bg-[#0A2540]/5 rounded-2xl p-8 border border-[#0A2540]/10">
            <h3 className="text-xl font-bold text-[#0A2540] mb-4 flex items-center gap-2">
              <Lightbulb className="w-5 h-5 text-[#C9A227]" /> Key Takeaways
            </h3>
            <ul className="space-y-3">
              {article.keyTakeaways.map((takeaway, i) => (
                <li key={i} className="flex items-start gap-3">
                  <div className="w-6 h-6 bg-[#C9A227] rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                    <span className="text-white text-xs font-bold">{i + 1}</span>
                  </div>
                  <span className="text-gray-700">{takeaway}</span>
                </li>
              ))}
            </ul>
          </div>

          {/* Share / Print */}
          <div className="mt-8 flex items-center gap-4 pt-6 border-t border-gray-200">
            <button
              onClick={() => {
                if (navigator.share) {
                  navigator.share({
                    title: article.title,
                    text: article.excerpt,
                    url: window.location.href,
                  });
                } else {
                  navigator.clipboard.writeText(window.location.href);
                  alert("Link copied to clipboard!");
                }
              }}
              className="flex items-center gap-2 text-sm text-gray-500 hover:text-[#0A2540] transition-colors"
            >
              <Share2 className="w-4 h-4" /> Share Article
            </button>
            <button
              onClick={() => window.print()}
              className="flex items-center gap-2 text-sm text-gray-500 hover:text-[#0A2540] transition-colors"
            >
              <Printer className="w-4 h-4" /> Print
            </button>
          </div>
        </div>
      </section>

      {/* Related Articles */}
      {relatedArticles.length > 0 && (
        <section className="py-12 bg-gray-50">
          <div className="container mx-auto px-4 max-w-3xl">
            <h3 className="text-2xl font-bold text-[#0A2540] mb-6">Related Articles</h3>
            <div className="grid md:grid-cols-2 gap-4">
              {relatedArticles.map((related) => {
                const RelIcon = related.icon;
                return (
                  <Link
                    key={related.slug}
                    href={`/resources/${related.slug}`}
                    className="bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow group"
                  >
                    <div className="flex items-center gap-3 mb-2">
                      <div className="w-8 h-8 bg-[#C9A227]/10 rounded-lg flex items-center justify-center">
                        <RelIcon className="w-4 h-4 text-[#C9A227]" />
                      </div>
                      <span className="text-xs font-bold text-[#C9A227] uppercase">
                        {related.category}
                      </span>
                    </div>
                    <h4 className="font-bold text-[#0A2540] group-hover:text-[#C9A227] transition-colors">
                      {related.title}
                    </h4>
                    <p className="text-sm text-gray-500 mt-1">{related.readTime}</p>
                  </Link>
                );
              })}
            </div>
          </div>
        </section>
      )}

      {/* CTA */}
      <section className="bg-[#0A2540] py-12">
        <div className="container mx-auto px-4 text-center max-w-2xl">
          <h2 className="text-2xl md:text-3xl font-bold text-white mb-3">
            Ready to take the next step?
          </h2>
          <p className="text-gray-300 mb-6">
            Check your personalized loan offers — no impact to your credit score.
          </p>
          <Link href="/check-offers">
            <Button
              size="lg"
              className="bg-[#C9A227] hover:bg-[#b8922a] text-white font-semibold rounded-full px-10"
            >
              See My Loan Offers
            </Button>
          </Link>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-gray-50 border-t border-gray-200 py-8">
        <div className="container mx-auto px-4 text-center text-sm text-gray-400">
          <p>© {new Date().getFullYear()} AmeriLend Financial. All rights reserved.</p>
          <div className="flex justify-center gap-6 mt-3">
            <Link href="/legal/privacy-policy" className="hover:text-gray-600">Privacy Policy</Link>
            <Link href="/legal/terms-of-service" className="hover:text-gray-600">Terms of Service</Link>
            <Link href="/contact" className="hover:text-gray-600">Contact</Link>
          </div>
        </div>
      </footer>
    </div>
  );
}
